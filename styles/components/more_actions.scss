.gin-sticky .gin-more-actions {
  position: relative;

  // Hide if no items are present.
  &:has(> .gin-more-actions__menu:empty) {
    display: none;
  }

  &__menu {
    visibility: hidden;
    opacity: 0;
    position: absolute;
    top: 100%;
    right: 0;
    min-width: max-content;
    display: flex;
    flex-direction: column;
    gap: var(--gin-spacing-xs);
    padding: var(--gin-spacing-xs);
    background-color: var(--gin-bg-layer3);
    border-radius: var(--gin-border-l);
    box-shadow: var(--gin-shadow-l2);
    transition: opacity var(--gin-transition-fast);

    .action-link,
    .button {
      margin: 0 !important;
    }
  }

  &__trigger {
    cursor: pointer;
    background: transparent;
    height: 32px;
    width: 32px;
    border-radius: var(--gin-border-m);
    transition: background var(--gin-transition-fast);

    &::before {
      display: inline-block;
      width: 100%;
      height: 100%;
      content: "";
      mask-repeat: no-repeat;
      mask-position: center center;
      background-color: var(--gin-icon-color);
      mask-image: icon('more');
      mask-size: var(--gin-icon-size-toolbar-secondary) var(--gin-icon-size-toolbar-secondary);
      border-radius: 50%;
    }

    &:hover, &:focus {
      background-color: var(--gin-color-primary-light);

      &::before {
        background-color: var(--gin-color-primary);
      }
    }

    &.is-active {
      background-color: var(--gin-color-primary-light-hover);

      &::before {
        background-color: var(--gin-color-primary-active);
      }
    }
  }

  &__trigger[aria-expanded="true"] {
    ~ .gin-more-actions__menu {
      visibility: visible;
      opacity: 1;
    }

    // Hide tooltip
    ~ .gin-tooltip {
      visibility: hidden;
      opacity: 0;
      transition: none !important;
    }
  }
}

// Hide actions if we use preprocess.
.gin-sticky-form-actions--preprocessed ~ .layout-container form.gin-sticky-form-actions .gin-sticky {
  display: none;
}
